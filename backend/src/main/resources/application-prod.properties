# Configuraci贸n espec铆fica para producci贸n
# Este archivo se usa cuando se ejecuta en modo producci贸n

# Configuraci贸n de la base de datos SQLite
quarkus.datasource.db-kind=sqlite
quarkus.datasource.db-name=${DB_NAME:ucacue.db}
quarkus.datasource.db-url=jdbc:sqlite:${DB_NAME:ucacue.db}

# Configuraci贸n de Hibernate ORM para producci贸n
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.log.sql=false
quarkus.hibernate-orm.statistics=false

# Configuraci贸n de conexi贸n a la base de datos optimizada para producci贸n
quarkus.datasource.db.max-size=50
quarkus.datasource.db.min-size=10
quarkus.datasource.db.initial-size=10
quarkus.datasource.db.leak-detection-interval=0
quarkus.datasource.db.acquisition-timeout=30s
quarkus.datasource.db.validation-timeout=5s

# Configuraci贸n de logging para producci贸n
quarkus.log.level=WARN
quarkus.log.category."org.hibernate.SQL".level=WARN
quarkus.log.category."org.hibernate.type.descriptor.sql.BasicBinder".level=WARN

# Configuraci贸n de health checks
quarkus.smallrye-health.root-path=/health
quarkus.smallrye-health.liveness-path=/health/live
quarkus.smallrye-health.readiness-path=/health/ready

# Configuraci贸n de m茅tricas para monitoreo
quarkus.micrometer.enabled=true
quarkus.micrometer.registry-enabled-default=true
quarkus.micrometer.export.prometheus.enabled=true

# Configuracin de migracin de base de datos
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true
quarkus.flyway.baseline-version=0.0.1
quarkus.flyway.sql-migration-prefix=V
quarkus.flyway.sql-migration-separator=__
quarkus.flyway.sql-migration-suffixes=.sql
# Intentar reparar checksums automticamente al iniciar
quarkus.flyway.repair-at-start=true

# Configuraci贸n de seguridad
quarkus.http.cors=true
quarkus.http.cors.origins=*
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with
quarkus.http.cors.exposed-headers=Content-Disposition
quarkus.http.cors.access-control-max-age=24H

# Configuraci贸n de compresi贸n
quarkus.http.enable-compression=true
quarkus.http.compression.enabled=true
quarkus.http.compression.mime-types=text/html,text/plain,text/css,text/javascript,application/javascript,application/json,application/xml
quarkus.http.compression.min-gzip-size=1000

# Configuraci贸n de timeouts
quarkus.http.read-timeout=60s
quarkus.http.write-timeout=60s

# Configuraci贸n de JVM para producci贸n
quarkus.jvm.max-heap-size=1024m
quarkus.jvm.min-heap-size=512m
